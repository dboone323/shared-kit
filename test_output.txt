[0/1] Planning build
Building for debugging...
[0/10] Write sources
[1/10] Write swift-version--58304C5D6DBC2206.txt
error: emit-module command failed with exit code 1 (use -v to see invocation)
[3/8] Compiling SharedKitTests SharedKitIntegrationTests.swift
[4/8] Emitting module SharedKitTests
/Users/danielstevens/github-projects/tools-automation/shared-kit/Tests/SharedKitTests/Mocks/MockURLSession.swift:4:14: warning: class 'MockURLSession' must restate inherited '@unchecked Sendable' conformance
 2 | 
 3 | @available(macOS 12.0, iOS 15.0, *)
 4 | public class MockURLSession: URLSession {
   |              `- warning: class 'MockURLSession' must restate inherited '@unchecked Sendable' conformance
 5 |     public override init() {}
 6 | 

/Users/danielstevens/github-projects/tools-automation/shared-kit/Tests/SharedKitTests/Mocks/MockURLSession.swift:15:23: error: static property 'requestHandler' is not concurrency-safe because it is nonisolated global shared mutable state [#MutableGlobalVariable]
13 | @available(macOS 12.0, iOS 15.0, *)
14 | public class MockURLProtocol: URLProtocol {
15 |     public static var requestHandler: ((URLRequest) throws -> (HTTPURLResponse, Data))?
   |                       |- error: static property 'requestHandler' is not concurrency-safe because it is nonisolated global shared mutable state [#MutableGlobalVariable]
   |                       |- note: convert 'requestHandler' to a 'let' constant to make 'Sendable' shared state immutable
   |                       |- note: add '@MainActor' to make static property 'requestHandler' part of global actor 'MainActor'
   |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
16 | 
17 |     public override class func canInit(with request: URLRequest) -> Bool {

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[5/8] Compiling SharedKitTests LoggerTests.swift
[6/8] Compiling SharedKitTests MockURLSession.swift
/Users/danielstevens/github-projects/tools-automation/shared-kit/Tests/SharedKitTests/Mocks/MockURLSession.swift:4:14: warning: class 'MockURLSession' must restate inherited '@unchecked Sendable' conformance
 2 | 
 3 | @available(macOS 12.0, iOS 15.0, *)
 4 | public class MockURLSession: URLSession {
   |              `- warning: class 'MockURLSession' must restate inherited '@unchecked Sendable' conformance
 5 |     public override init() {}
 6 | 

/Users/danielstevens/github-projects/tools-automation/shared-kit/Tests/SharedKitTests/Mocks/MockURLSession.swift:15:23: error: static property 'requestHandler' is not concurrency-safe because it is nonisolated global shared mutable state [#MutableGlobalVariable]
13 | @available(macOS 12.0, iOS 15.0, *)
14 | public class MockURLProtocol: URLProtocol {
15 |     public static var requestHandler: ((URLRequest) throws -> (HTTPURLResponse, Data))?
   |                       |- error: static property 'requestHandler' is not concurrency-safe because it is nonisolated global shared mutable state [#MutableGlobalVariable]
   |                       |- note: convert 'requestHandler' to a 'let' constant to make 'Sendable' shared state immutable
   |                       |- note: add '@MainActor' to make static property 'requestHandler' part of global actor 'MainActor'
   |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
16 | 
17 |     public override class func canInit(with request: URLRequest) -> Bool {

/Users/danielstevens/github-projects/tools-automation/shared-kit/Tests/SharedKitTests/Mocks/MockURLSession.swift:5:21: warning: 'init()' was deprecated in macOS 10.15: Please use +[NSURLSession sessionWithConfiguration:] or other class methods to create instances [#DeprecatedDeclaration]
 3 | @available(macOS 12.0, iOS 15.0, *)
 4 | public class MockURLSession: URLSession {
 5 |     public override init() {}
   |                     `- warning: 'init()' was deprecated in macOS 10.15: Please use +[NSURLSession sessionWithConfiguration:] or other class methods to create instances [#DeprecatedDeclaration]
 6 | 
 7 |     // We can't easily override the async data(for:) method in a way that works perfectly with standard URLSession

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
error: fatalError
